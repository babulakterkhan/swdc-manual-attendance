<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Teacher Attendance System</title>
<style>
body { font-family: Arial, sans-serif; margin: 10px; }
h2 { text-align: center; }
table {
    width: 100%;
    max-width: 1200px;
    border-collapse: collapse;
    margin: 10px auto;
}
th, td {
    border: 1px solid black;
    padding: 8px;
    text-align: left;
    word-wrap: break-word;
}
.present { background-color: #b2f2bb; } /* green */
.absent { background-color: #ffa8a8; } /* red */
input[type="text"], input[type="month"], input[type="date"] {
    width: 100%;
    max-width: 400px;
    padding: 6px;
    margin: 10px auto;
    display: block;
}
button {
    padding: 8px 12px;
    margin: 10px auto;
    cursor: pointer;
    display: block;
}
@media screen and (max-width: 600px) {
    th, td { font-size: 14px; padding: 6px; }
    input[type="text"], input[type="month"], input[type="date"] { max-width: 100%; }
}
</style>
</head>
<body>

<h2>Teacher Attendance System</h2>

<input type="text" id="searchInput" placeholder="Search by Name or ID..." onkeyup="filterTable()">
<label for="monthFilter">Filter by Month:</label>
<input type="month" id="monthFilter" onchange="filterByMonth()">
<label for="dateFilter">Filter by Date:</label>
<input type="date" id="dateFilter" onchange="filterByDate()">

<table id="attTable">
<tr>
<th>ID</th>
<th>Name</th>
<th>Designation</th>
<th>Status</th>
<th>Date</th>
<th>Time</th>
</tr>

<!-- 2 teacher rows -->
<tr class="absent"><td>456202</td><td>MD. RUHUL AMIN</td><td>Principal</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456204</td><td>MD. ENAMUL KABIR</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456205</td><td>MD. RAFIQUL ISLAM</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456206</td><td>MD. ABDUL QUYUM</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456207</td><td>MD. NUHU ALI</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456208</td><td>MOMOTAJ MOHOL</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456209</td><td>MD. RAWSHON ALI</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456210</td><td>MD. MUAZZEM HOSSAIN CHOWDHURY</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456211</td><td>MST. FATIMA KHATUN</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456212</td><td>MD. ASLAM MIAH</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456213</td><td>KONA RANI CHAKI</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456214</td><td>MST. ROZINA KHATUN</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456215</td><td>MD. MAHBUBUL HASAN</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456216</td><td>MD. SARWARDY AZAD</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456217</td><td>MD. HAZRAT ALI</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456218</td><td>MD. NIZAM UDDIN AKONDA</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456220</td><td>SHAHINA BANU</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456221</td><td>SHAHID SAKAWAT CHOWDHURY</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456222</td><td>MOST. UMME SALMA</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456223</td><td>MD. MAHFUZUR RAHMAN</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456224</td><td>MOST. ZINNAT ARA KHATUN</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456225</td><td>GULBEG KHATUN</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456226</td><td>MD FARHAD HOSSAIN</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456227</td><td>ZARZIS AHMED BIPU</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456228</td><td>MD. MOHOR ULLAH</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456229</td><td>MD. A. MANNAN</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456230</td><td>MD. ALAMGIR HOSSAIN</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456231</td><td>MD. GOLAM HASNAYEN KHAN</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456232</td><td>MD. ALAMIN HOSSAIN</td><td>Lecturer</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456233</td><td>MD. ALMAS ANSARY</td><td>Lecturer</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456234</td><td>MD. SHAMIM HASAN</td><td>Lecturer</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456235</td><td>MST. NURUN NAHAR</td><td>Lecturer</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456236</td><td>MD. AMANULLAH AL-MAMUN</td><td>Lecturer</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456237</td><td>MST. JAHANARA PARVIN</td><td>Demonstrator</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456238</td><td>MD. ALTAF HOSSAIN</td><td>Demonstrator</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456239</td><td>MST. RUNA LAYLA</td><td>Demonstrator</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456240</td><td>MST. FARIDA PERVIN</td><td>Physical Teacher</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456241</td><td>MD. RAFIQUL ISLAM</td><td>OFF ASS & COM OPE</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456243</td><td>MD. SIRAJUL ISLAM</td><td>MLSS</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456244</td><td>MD. RASEL ALI</td><td>MLSS</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456245</td><td>MST. SHAHINUR KHATUN</td><td></td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456246</td><td>MOST. RONG MALA KHATUN</td><td>MLSS</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456247</td><td>MD. ALHAZ ALI</td><td>MLSS</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456248</td><td>MD. ABID HASAN SAGOR</td><td>Lab Assistant</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456249</td><td>MOST. SIZIA KHATUN</td><td>MLSS</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456250</td><td>MD. HELAL UDDIN</td><td>MLSS</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456251</td><td>MD. ABIR HOSSAIN</td><td>MLSS</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456252</td><td>MD. SAIFUL ISLAM</td><td>MLSS</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456254</td><td>REHAN ARA BEGUM</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456255</td><td>MD. ABU SYED</td><td>MLSS</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456256</td><td>MST. NAZMA YASMIN</td><td>Asst. Teacher</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456257</td><td>AISA AKHTER</td><td>Demonstrator</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456258</td><td>ALAMGIR AHMED</td><td>Lecturer</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456259</td><td>S.M. RAFIQUL ISLAM</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456260</td><td>MD. MAHBUBUL ALAM</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456261</td><td>MD. ABDUL MOTTALIB</td><td>Demonstrator</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456262</td><td>MD. ABDUL WAHED</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456263</td><td>MD. HASAN ALI</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456264</td><td>MD. HABIBUR RAHMAN</td><td>Lab Assistant</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456266</td><td>MST. MITU PARVIN</td><td>Lab Assistant</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456267</td><td>MD. MEHEDI HASAN</td><td>Lab Assistant</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456268</td><td>MD. SHOHIDUL ISLAM</td><td>Asst. Professor</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>
<tr class="absent"><td>456269</td><td>MST. AMBIA KHATUN</td><td>Lecturer</td><td><select onchange="updateStatus(this)"><option>Absent</option><option>Present</option></select></td><td class="date"></td><td class="time"></td></tr>

</table>

<button onclick="downloadCSV()">Download CSV</button>

<script>
// Set current date for all rows on page load
document.addEventListener("DOMContentLoaded", () => {
    const rows = document.querySelectorAll("#attTable tr");
    const today = new Date().toLocaleDateString();
    rows.forEach((row, index) => {
        if(index === 0) return; // skip header
        const dateCell = row.querySelector(".date");
        if(dateCell) dateCell.innerText = today;
    });
});

function updateStatus(sel){
    const row = sel.parentElement.parentElement;
    const timeCell = row.querySelector('.time');
    if(sel.value === "Present"){
        row.className = "present";
        const now = new Date();
        timeCell.innerText = now.toLocaleTimeString();
    } else {
        row.className = "absent";
        timeCell.innerText = "";
    }
}

function downloadCSV(){
    const rows = document.querySelectorAll("#attTable tr");
    let csv = "ID,Name,Designation,Status,Date,Time\n";
    rows.forEach((row,index)=>{
        if(index===0) return;
        const cells = row.querySelectorAll("td");
        const id = cells[0].innerText;
        const name = cells[1].innerText;
        const desig = cells[2].innerText;
        const status = cells[3].querySelector("select").value;
        const date = cells[4].innerText;
        const time = cells[5].innerText;
        csv += `${id},${name},${desig},${status},${date},${time}\n`;
    });
    const blob = new Blob([csv], {type: 'text/csv;charset=utf-8;'});
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "attendance.csv";
    link.click();
}

function filterTable(){
    const input = document.getElementById("searchInput").value.toUpperCase();
    const table = document.getElementById("attTable");
    const tr = table.getElementsByTagName("tr");
    for(let i=1;i<tr.length;i++){
        const tdID = tr[i].getElementsByTagName("td")[0];
        const tdName = tr[i].getElementsByTagName("td")[1];
        if(tdID && tdName){
            const txtValue = tdID.textContent + " " + tdName.textContent;
            tr[i].style.display = txtValue.toUpperCase().indexOf(input) > -1 ? "" : "none";
        }
    }
}

function filterByMonth() {
    const input = document.getElementById("monthFilter").value; // yyyy-mm
    const table = document.getElementById("attTable");
    const tr = table.getElementsByTagName("tr");
    for(let i=1; i<tr.length; i++){
        const dateCell = tr[i].getElementsByClassName("date")[0];
        if(dateCell){
            const cellDate = new Date(dateCell.innerText);
            const yearMonth = cellDate.getFullYear() + "-" + String(cellDate.getMonth()+1).padStart(2,"0");
            tr[i].style.display = (input === "" || input === yearMonth) ? "" : "none";
        }
    }
}

function filterByDate() {
    const input = document.getElementById("dateFilter").value; // yyyy-mm-dd
    const table = document.getElementById("attTable");
    const tr = table.getElementsByTagName("tr");
    for(let i=1;i<tr.length;i++){
        const dateCell = tr[i].getElementsByClassName("date")[0];
        if(dateCell){
            const cellDate = new Date(dateCell.innerText);
            const formattedCell = cellDate.getFullYear() + "-" + String(cellDate.getMonth()+1).padStart(2,"0") + "-" + String(cellDate.getDate()).padStart(2,"0");
            tr[i].style.display = (input === "" || input === formattedCell) ? "" : "none";
        }
    }
}
</script>

</body>
</html>
